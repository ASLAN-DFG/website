---
layout: layout.njk
title: Software & Data
---

<h1>Software &amp; Data</h1>
<div class="software-list">
{% for item in software %}
  <div class="software-item">
    <h3>{{ item.name }}</h3>
    <p>{{ item.description }}</p>
    <span class="badge badge-{{ item.type | lower }}">{{ item.type | capitalize }}</span>    
    <div class="software-links">
      {% if item.github %}
        <a href="{{ item.github }}" target="_blank" rel="noopener" class="btn btn-github">GitHub</a>
      {% endif %}
      {% if item.download %}
        <a href="{{ item.download }}" target="_blank" rel="noopener" class="btn btn-download">Download</a>
      {% endif %}
    </div>
  </div>
{% endfor %}
</div>

<h1>Datasets</h1>

<div class="table-responsive">
  <table id="dataset-table">
      <thead>
        <tr>
          {% for key in datasets.keys %}
            <th>{{ key }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for row in datasets.data %}
          <tr>
            {% for key in datasets.keys %}
              <td>{{ row[key] }}</td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
   </table>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const table = document.getElementById('dataset-table');
  const ths = table.querySelectorAll('th');
  let sortDirection = {};

  ths.forEach((th, idx) => {
    th.addEventListener('click', () => {
      const tbody = table.querySelector('tbody');
      sortDirection[idx] = !sortDirection[idx];
      const rows = Array.from(tbody.querySelectorAll('tr'));
      rows.sort((a, b) => {
        let v1 = a.children[idx].textContent.trim();
        let v2 = b.children[idx].textContent.trim();
        if (!isNaN(v1) && !isNaN(v2)) {
          v1 = parseFloat(v1);
          v2 = parseFloat(v2);
        }
        return (v1 > v2 ? 1 : v1 < v2 ? -1 : 0) * (sortDirection[idx] ? 1 : -1);
      });
      // Visual feedback:
      ths.forEach((header,i)=>header.classList.remove("sorted-asc","sorted-desc"));
      th.classList.add(sortDirection[idx] ? "sorted-asc" : "sorted-desc");
      
      rows.forEach(row => tbody.appendChild(row));
    });
  });
});
</script>